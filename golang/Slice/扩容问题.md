# 扩容问题

扩容会发生在slice append的时候，当slice的cap不足以容纳新元素，就会进行growSlice

```go
func testB() {
   var sa []string
   //sa := make([]string, 0, 3)
   fmt.Printf("addr:%p \t\tlen:%v \tcap:%v content:%v\n", sa, len(sa), cap(sa), sa)
   for i := 0; i < 20; i++ {
      sa = append(sa, fmt.Sprintf("%v", i))
      fmt.Printf("addr:%p \t\tlen:%v \tcap:%v \tcontent:%v\n", sa, len(sa), cap(sa), sa)
   }
 }
//output
addr:0x0                len:0   cap:0 content:[]
addr:0xc000010200               len:1   cap:1   content:[0]
addr:0xc00000c0a0               len:2   cap:2   content:[0 1]
addr:0xc000022080               len:3   cap:4   content:[0 1 2]
addr:0xc000022080               len:4   cap:4   content:[0 1 2 3]
addr:0xc00007a000               len:5   cap:8   content:[0 1 2 3 4]
addr:0xc00007a000               len:6   cap:8   content:[0 1 2 3 4 5]
addr:0xc00007a000               len:7   cap:8   content:[0 1 2 3 4 5 6]
addr:0xc00007a000               len:8   cap:8   content:[0 1 2 3 4 5 6 7]
addr:0xc00007c000               len:9   cap:16  content:[0 1 2 3 4 5 6 7 8]
addr:0xc00007c000               len:10  cap:16  content:[0 1 2 3 4 5 6 7 8 9]
addr:0xc00007c000               len:11  cap:16  content:[0 1 2 3 4 5 6 7 8 9 10]
addr:0xc00007c000               len:12  cap:16  content:[0 1 2 3 4 5 6 7 8 9 10 11]
addr:0xc00007c000               len:13  cap:16  content:[0 1 2 3 4 5 6 7 8 9 10 11 12]
addr:0xc00007c000               len:14  cap:16  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13]
addr:0xc00007c000               len:15  cap:16  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14]
addr:0xc00007c000               len:16  cap:16  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15]
addr:0xc00007e000               len:17  cap:32  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16]
addr:0xc00007e000               len:18  cap:32  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17]
addr:0xc00007e000               len:19  cap:32  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18]
addr:0xc00007e000               len:20  cap:32  content:[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19]
```

