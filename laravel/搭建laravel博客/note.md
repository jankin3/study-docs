# 使用laravel搭建自己的博客

## 开发
### 实现功能：
1. 文章内容查看，目录索引，tags属性，时间属性，xmind-image放大功能
2. 时间轴功能，目前只有更新和添加两种操作
3. tags云查看，按照tags分类页
4. 首页，比较简单.
5. 后台laravel-admin，(根据习惯采用的直接上传markdown文件方式新增或者更新)上传新文件内容，添加文章属性等等。

### 新技术体会
本次开发主要目的是熟悉基本的项目每个层面的部署，故没有机会很深的去理解laravel的优势，原项目开发php主要还是使用的tp3.2。对比而言，
1. 便捷性, 前端的自带了webpack的api封装，可以很好地实现scss,css, js的相关操作。原项目是用的是node的gulp。
2. 配置清晰，laravel的配置基本在config文件夹，路由也单独出来了.对比而言这种常用的目录单独出来可真是舒服。


### 发现问题
+ 发现问题1：`设计混乱`。前期数据表的设计没有仔细考虑，article 文章信息基本表改动多次。

+ 教训1: `无论多小的需求，需求设计都应该先纵观全局的需求设计`。当然说这个比较简单，但是做起来很难。很多时候预计的实现达不到只能退而求其次修改设计。比如每一篇article的tags本设计分开存储解耦合，这样双向查找都比较快。最后实现做的时候发现后台实现这样比较麻烦修改，最后只好采取数据冗余方式实现。

## 部署
部署采用的是docker环境
云服务器使用的免费的aws(记得开端口号)


### 发现问题
+ 发现问题2: 生产服务器环境配置搞了许久，主要问题，docker环境，本地因为网络等原因本地没有搭建，然后就因为文件夹没有对应好的小问题调试了半天，真实愚蠢
+ 教训2: 代码一定要本地测试然后再上线,只要你不测试他就搞你
+ 发现问题3:关于开发和生产环境的不同配置问题，主要其中一个是composer生成的vendor文件问题是否放在在gitignore里面，因为docker 环境等原因，最终放在了git里面。然后就遇到了git submoudle问题。因为vendor里面有其他组件的.git文件而不会被版本控制。刚开始直接强行git add .发现不行之后，git文件追踪已经发生了问题。搞了半天没搞好，最终重装vendor文件得以解决。
+ 教训3: 错误提示和警告不要轻易ignore. 这些都是致命的导火索。
