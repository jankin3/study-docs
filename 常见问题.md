# 常见问题

### 协程池

为什么需要数据库连接池，协程池等？

如果没有池子之前怎么做？先创建连接，初始化；再运行业务逻辑；最后销毁回收资源

存在什么问题？ 每次都需要创建和销毁，没办法控制总数量等

所以总结：

1. 避免多次创建和销毁。
2. 自动处理重连等
3. 限制数量等



### 怎么查看golang服务的性能指标，有哪些方面需要注意的

业务层面：qps，mysql，redis，mq

系统层面：cpu, 磁盘io, 网络io





### 内核态与用户态

什么是内核态和用户态?

`内核态`主要是来控制计算机的硬件资源，如cpu调度，提供稳定的环境供应用程序运行。

`用户态`就是应用程序运行的地方，为了使应用程序访问到内核管理的资源例如CPU，内存，I/O。内核必须提供一组通用的访问接口，这些接口就叫`系统调用`。

联系：golang的MPG模型使应用程序可以在用户态切换groutine，避免了到内核态的上线文切换

参考：https://zhuanlan.zhihu.com/p/69554144

